<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Game 2: Emoji Quiz! ğŸŒ¹</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background: linear-gradient(to bottom, #ff9a9e, #fff0f5);
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #333;
            touch-action: manipulation;
        }
        h1 { color: #c71585; font-size: 2.2em; margin: 20px 0; }
        p { font-size: 1.3em; margin: 10px 0; }
        #quizQ { font-size: 1.4em; margin: 20px 0; font-weight: bold; }
        .quiz-option {
            background: #fad0c4;
            padding: 18px;
            margin: 15px 0;
            border-radius: 15px;
            font-size: 1.3em;
            width: 85%;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
            transition: background 0.3s;
        }
        .quiz-option:active { background: #ff9a9e; }
        .quiz-option.correct { background: #90ee90 !important; color: #000; }
        .quiz-option.wrong { background: #ffb6c1 !important; color: #000; }
        button {
            padding: 15px 50px;
            font-size: 1.4em;
            background: #ff69b4;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin: 30px 0;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        button:active { transform: scale(0.95); }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h1>Game 2: Emoji Quiz!</h1>
    <p>Guess kar inka matlab!</p>
    <div id="quizQ"></div>
    <div id="quizOpts"></div>
    <button id="nextQ" class="hidden">Next Question â¡ï¸</button>

    <script>
        const quizQuestions = [
            {
                q: "â¤ï¸ğŸŒ¹ğŸ’• ka matlab?",
                opts: ["Pizza time ğŸ•", "Hamara pyaar ğŸ’–", "Shopping mall ğŸ›ï¸"],
                correct: 1
            },
            {
                q: "ğŸ˜˜ğŸš€ğŸŒŸ tere liye?",
                opts: ["Rocket launch ğŸš€", "Tu meri star hai! â­", "Kiss goodbye ğŸ˜¢"],
                correct: 1
            }
        ];

        let quizIdx = 0;

        function loadQuiz() {
            const q = quizQuestions[quizIdx];
            document.getElementById('quizQ').innerHTML = `<p><strong>Q${quizIdx + 1}:</strong> ${q.q}</p>`;

            const optsDiv = document.getElementById('quizOpts');
            optsDiv.innerHTML = ''; // Clear previous options

            q.opts.forEach((opt, i) => {
                const div = document.createElement('div');
                div.className = 'quiz-option';
                div.textContent = opt;
                div.dataset.idx = i; // Use dataset for index
                optsDiv.appendChild(div);
            });

            // Add listeners after creating elements
            document.querySelectorAll('.quiz-option').forEach(opt => {
                const handler = function(e) {
                    e.preventDefault();
                    const idx = parseInt(this.dataset.idx);
                    handleAnswer(idx);
                };
                opt.addEventListener('click', handler);
                opt.addEventListener('touchstart', handler);
            });

            document.getElementById('nextQ').classList.add('hidden');
        }

        function handleAnswer(selectedIdx) {
            const q = quizQuestions[quizIdx];
            document.querySelectorAll('.quiz-option').forEach((opt, i) => {
                opt.removeEventListener('click', () => {}); // Clean up (optional)
                opt.removeEventListener('touchstart', () => {});
                if (i === q.correct) {
                    opt.classList.add('correct');
                } else if (i === selectedIdx) {
                    opt.classList.add('wrong');
                }
                opt.style.pointerEvents = 'none'; // Disable further clicks
            });

            document.getElementById('nextQ').classList.remove('hidden');
        }

        document.getElementById('nextQ').addEventListener('click', nextQuestion);
        document.getElementById('nextQ').addEventListener('touchstart', e => {
            e.preventDefault();
            nextQuestion();
        });

        function nextQuestion() {
            quizIdx++;
            if (quizIdx < quizQuestions.length) {
                loadQuiz();
            } else {
                alert("Quiz complete! Ab last game...");
                window.location.href = 'game3.html';
            }
        }

        // Start first question
        loadQuiz();
    </script>
</body>
</html>
